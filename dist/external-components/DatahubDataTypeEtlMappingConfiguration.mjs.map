{"version":3,"file":"DatahubDataTypeEtlMappingConfiguration.mjs","sources":["../../src/components/dataTypes/DatahubDataTypeEtlMappingConfiguration.vue"],"sourcesContent":["<script setup lang=\"ts\" generic=\"T extends object\">\nimport { computed, watch } from \"vue\";\nimport { ABtn } from \"@actindo/core-ui\";\nimport type { IPossibleExtensionContainer } from \"@/services/api/DataHub/ETLAttributeMaps\";\nimport { loadExternalComponent } from \"@/utils/helpers\";\nimport type { IExtensionProps } from \"./etl/models\";\n\nconst props = defineProps<\n  IExtensionProps & {\n    extension?: IPossibleExtensionContainer;\n  }\n>();\n\nconst isVisible = defineModel<boolean>({ default: true });\nconst configuration = defineModel<T>(\"config\", { default: () => ({}) });\n\nconst RequestedComponent = computed(() => {\n  if (!props.extension?.configurationComponent) {\n    return null;\n  }\n  return loadExternalComponent({\n    name: props.extension.configurationComponent,\n    url: props.extension.configurationImport,\n  });\n});\n\nwatch(\n  () => props.extension,\n  (extension) => {\n    isVisible.value = Boolean(extension);\n  },\n  { immediate: true },\n);\n</script>\n\n<template>\n  <div v-if=\"RequestedComponent && isVisible\" class=\"mapping__config pa-6\">\n    <h2 class=\"d-flex\">\n      <span class=\"flex-grow-1 text-truncate\">\n        {{ $t(\"elt.configuration\") }}\n      </span>\n      <ABtn\n        icon=\"clear\"\n        variant=\"text\"\n        class=\"ml-auto\"\n        @click=\"isVisible = false\"\n      />\n    </h2>\n    <RequestedComponent\n      v-model=\"configuration\"\n      :attribute-mapping=\"attributeMapping\"\n    />\n    <!--\nViews\\Elements\\ETL\\extension-configuration.html\n                            <datahub-etl-extension-configuration\n                                    source-attributes=\"[[sourceAttributes]]\"\n                                    etl-attribute-set-map=\"[[etlAttributeSetMap]]\"\n                                    source-attribute-language=\"[[sourceAttributeLanguage]]\"\n                                    source-attribute-scope=\"[[sourceAttributeScope]]\"\n                                    etl-attribute-map-id=\"[[etlAttributeMap.id]]\"\n                            ></datahub-etl-extension-configuration>\n-->\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.mapping {\n  &__config {\n    background-color: rgb(var(--v-theme-selected));\n  }\n}\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AACA,MAAA,WAAA,OAAA,KAAA,EAAA;;AACA,MAAA,OAAA,OAAA,eAAA,EAAA;;;;;;;;;;;;;;AAKA,UAAM,QAAQ;AAMR,UAAA,YAAY,UAAoB,SAAA,YAAkB;AAClD,UAAA,gBAAgB,UAAe,SAAA,QAAiC;AAEhE,UAAA,qBAAqB,SAAS,MAAM;;AACpC,UAAA,GAAC,WAAM,cAAN,mBAAiB,yBAAwB;AACrC,eAAA;AAAA,MACT;AACA,aAAO,sBAAsB;AAAA,QAC3B,MAAM,MAAM,UAAU;AAAA,QACtB,KAAK,MAAM,UAAU;AAAA,MAAA,CACtB;AAAA,IAAA,CACF;AAED;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,CAAC,cAAc;AACH,kBAAA,QAAQ,QAAQ,SAAS;AAAA,MACrC;AAAA,MACA,EAAE,WAAW,KAAK;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;"}