{"version":3,"file":"DatahubDataTypeIntegerValueEditor.mjs","sources":["../../src/components/dataTypes/IntegerValue/DatahubDataTypeIntegerValueEditor.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, watch } from \"vue\";\nimport { useI18n } from \"vue-i18n\";\nimport { ATextField } from \"@actindo/core-ui\";\nimport type {\n  IDatahubDataTypeEditorEmits,\n  IDatahubDataTypeEditorProps,\n} from \"@/components/dataTypes/models\";\nimport { useNumberValidation } from \"../validation\";\nimport type { IDataTypesIntegerValueConfiguration } from \"./models\";\n\nconst props =\n  defineProps<\n    IDatahubDataTypeEditorProps<\n      number | string,\n      IDataTypesIntegerValueConfiguration\n    >\n  >();\n\nconst emit = defineEmits<IDatahubDataTypeEditorEmits>();\n\nconst localData = defineModel<number | string>();\n\nconst { t } = useI18n();\n\nconst errorMessages = ref(\"\");\n\nwatch(\n  () => props.modelValue,\n  (newValue: number | string) => {\n    const intValue = parseInt(newValue as string);\n\n    const error = useNumberValidation(intValue, props.attribute?.configuration);\n    errorMessages.value = error\n      ? t(error, {\n          min: props.attribute?.configuration?.min,\n          max: props.attribute?.configuration?.max,\n        })\n      : \"\";\n  },\n);\n\nwatch(errorMessages, (hasErrors) => emit(\"validated\", !hasErrors));\n</script>\n\n<template>\n  <ATextField\n    v-model.number=\"localData\"\n    :readonly=\"readOnly\"\n    :label=\"massEditing ? undefined : label\"\n    :disabled=\"props.readOnly || props.attribute?.configuration?.readOnly\"\n    :error-messages=\"errorMessages\"\n  />\n</template>\n\n<i18n src=\"../locales/numbers.json\"></i18n>\n"],"names":[],"mappings":";;;;;;;AACA,MAAA,MAAA,OAAA,KAAA,EAAA;;AACA,MAAA,UAAA,OAAA,SAAA,EAAA;AACA,MAAA,aAAA,OAAA,eAAA,EAAA;;;;;;;;;;;;;;;;AAQA,UAAM,QACJ;AAOF,UAAM,OAAO;AAEP,UAAA,YAAY,UAA4B,SAAA,YAAC;AAEzC,UAAA,EAAE,MAAM;AAER,UAAA,gBAAgB,IAAI,EAAE;AAE5B;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,CAAC,aAA8B;;AACvB,cAAA,WAAW,SAAS,QAAkB;AAE5C,cAAM,QAAQ,oBAAoB,WAAU,WAAM,cAAN,mBAAiB,aAAa;AAC5D,sBAAA,QAAQ,QAClB,EAAE,OAAO;AAAA,UACP,MAAK,iBAAM,cAAN,mBAAiB,kBAAjB,mBAAgC;AAAA,UACrC,MAAK,iBAAM,cAAN,mBAAiB,kBAAjB,mBAAgC;AAAA,QACtC,CAAA,IACD;AAAA,MACN;AAAA,IAAA;AAGF,UAAM,eAAe,CAAC,cAAc,KAAK,aAAa,CAAC,SAAS,CAAC;;;;;;;;;;;;;;;;;"}